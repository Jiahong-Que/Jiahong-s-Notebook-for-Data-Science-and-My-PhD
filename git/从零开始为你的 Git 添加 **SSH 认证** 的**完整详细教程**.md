å¥½çš„ï¼ä¸‹é¢æ˜¯ä»é›¶å¼€å§‹ä¸ºä½ çš„ Git æ·»åŠ  **SSH è®¤è¯** çš„**å®Œæ•´è¯¦ç»†æ•™ç¨‹**ï¼Œé€‚ç”¨äº GitHub æˆ– GitLabï¼Œå¯ä»¥è§£å†³ä½ åœ¨å¤šå°ç”µè„‘æˆ– GitHub Desktop ä¸­é¢‘ç¹è¾“å…¥è´¦å·å¯†ç çš„é—®é¢˜ã€‚

---

## ğŸ›¡ï¸ ä¸€ã€ä»€ä¹ˆæ˜¯ SSH è®¤è¯ï¼Ÿ

SSH æ˜¯ä¸€ç§æ›´å®‰å…¨çš„ Git è®¤è¯æ–¹å¼ï¼Œé¿å…ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç ã€‚ä½ éœ€è¦ï¼š

1. **åœ¨ä½ çš„ç”µè„‘ä¸Šç”Ÿæˆ SSH keyï¼ˆå…¬é’¥ + ç§é’¥ï¼‰**
2. **å°†å…¬é’¥æ·»åŠ åˆ° GitHub / GitLab è´¦æˆ·ä¸­**
3. **å°†ä»“åº“çš„è¿œç¨‹åœ°å€æ”¹ä¸º SSH åœ°å€**

---

## ğŸ§­ äºŒã€å®Œæ•´è®¾ç½®æµç¨‹ï¼ˆä»¥ GitHub ä¸ºä¾‹ï¼‰

---

### âœ… ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥æ˜¯å¦å·²æœ‰ SSH key

åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œï¼š

```bash
ls -al ~/.ssh
```

å¦‚æœä½ çœ‹åˆ°å¦‚ä¸‹æ–‡ä»¶è¯´æ˜å·²å­˜åœ¨ï¼ˆå¯è·³è¿‡ç”Ÿæˆæ­¥éª¤ï¼‰ï¼š

```
id_ed25519     â† ç§é’¥
id_ed25519.pub â† å…¬é’¥
```

---

### âœ… ç¬¬äºŒæ­¥ï¼šç”Ÿæˆæ–°çš„ SSH keyï¼ˆå¦‚æœæ²¡æœ‰ï¼‰

åœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼ˆæŠŠé‚®ç®±æ”¹æˆä½ è‡ªå·±çš„ï¼‰ï¼š

```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
```

å®ƒä¼šæç¤ºä½ ï¼š

```
Enter file in which to save the key (/Users/ä½ çš„ç”¨æˆ·å/.ssh/id_ed25519): [ç›´æ¥å›è½¦]
Enter passphrase (empty for no passphrase): [å¯é€‰å¯†ç ]
```

å®Œæˆåä½ ä¼šå¾—åˆ°ï¼š

* **å…¬é’¥**ï¼š`~/.ssh/id_ed25519.pub`ï¼ˆå¯ä»¥åˆ†äº«ï¼‰
* **ç§é’¥**ï¼š`~/.ssh/id_ed25519`ï¼ˆåƒä¸‡ä¸èƒ½æ³„éœ²ï¼‰

---

### âœ… ç¬¬ä¸‰æ­¥ï¼šå°†å…¬é’¥æ·»åŠ åˆ° GitHub

1. æ‰“å¼€ GitHub â†’ [https://github.com/settings/keys](https://github.com/settings/keys)
2. ç‚¹å‡» **New SSH key**
3. Titleï¼šæ¯”å¦‚ `MacBook Air` æˆ– `Office PC`
4. åœ¨ç»ˆç«¯ä¸­å¤åˆ¶å…¬é’¥ï¼š

```bash
cat ~/.ssh/id_ed25519.pub | pbcopy  # macOS
```

5. ç²˜è´´è¿› GitHub â†’ ä¿å­˜

---

### âœ… ç¬¬å››æ­¥ï¼šæµ‹è¯•è¿æ¥æ˜¯å¦æˆåŠŸ

```bash
ssh -T git@github.com
```

å¦‚æœæˆåŠŸï¼Œä¼šæ˜¾ç¤ºï¼š

```
Hi your_username! You've successfully authenticated.
```

---

### âœ… ç¬¬äº”æ­¥ï¼šè®¾ç½® Git ä½¿ç”¨ SSH åœ°å€

#### 1. æŸ¥çœ‹å½“å‰ä»“åº“ä½¿ç”¨çš„åœ°å€ï¼š

```bash
git remote -v
```

å¯èƒ½æ˜¯ HTTPSï¼š

```
origin  https://github.com/yourname/repo.git
```

#### 2. ä¿®æ”¹ä¸º SSH åœ°å€ï¼š

```bash
git remote set-url origin git@github.com:yourname/repo.git
```

ä½ å¯ä»¥ä» GitHub ä»“åº“é¡µé¢ â†’ `Code` æŒ‰é’® â†’ é€‰æ‹© `SSH` â†’ å¤åˆ¶åœ°å€ã€‚

---

## ğŸ§  ä¸‰ã€åœ¨ GitHub Desktop ä¸­ä½¿ç”¨ SSH

GitHub Desktop é»˜è®¤æ”¯æŒ SSHï¼Œåªè¦ä½ é…ç½®å¥½ä¸Šè¿°æ­¥éª¤ï¼Œå®ƒä¼šè‡ªåŠ¨ä½¿ç”¨ã€‚

ä½†ä½ è¦ç¡®ä¿ï¼š

1. ä»“åº“åœ°å€æ˜¯ SSH æ ¼å¼ï¼ˆè§ä¸Šæ–‡ï¼‰
2. SSH key å­˜åœ¨äº `~/.ssh`ï¼Œå¹¶ä¸”ç»ˆç«¯ä¸­èƒ½ `ssh -T` æˆåŠŸè¿æ¥

---

## ğŸ” å››ã€ï¼ˆå¯é€‰ï¼‰å…¨å±€é…ç½® Git ä½¿ç”¨ SSH

æœ‰äº›å·¥å…·å¯èƒ½é»˜è®¤ä½¿ç”¨ HTTPSï¼Œä½ å¯ä»¥å…¨å±€æŒ‡å®šï¼š

```bash
git config --global url."git@github.com:".insteadOf "https://github.com/"
```

è¿™æ ·å³ä½¿ä½ ç²˜è´´ HTTPS åœ°å€ï¼Œä¹Ÿä¼šè‡ªåŠ¨ç”¨ SSHã€‚

---

## ğŸ§¯ äº”ã€å¸¸è§é—®é¢˜æ’æŸ¥

| é—®é¢˜                              | åŸå› æˆ–æç¤º                 | è§£å†³åŠæ³•                          |
| ------------------------------- | --------------------- | ----------------------------- |
| `Permission denied (publickey)` | æ²¡æœ‰æ·»åŠ å…¬é’¥æˆ–æƒé™ä¸å¯¹           | ç¡®ä¿å…¬é’¥æ·»åŠ åˆ°äº† GitHub               |
| `Host key verification failed`  | é¦–æ¬¡è¿æ¥ï¼Œæœªä¿¡ä»»ä¸»æœº            | å°è¯• `ssh -T git@github.com` ä¿¡ä»» |
| GitHub Desktop ä»ç„¶è¦æ±‚å¯†ç            | ä»“åº“åœ°å€ä»æ˜¯ HTTPS          | `git remote set-url` æ”¹ä¸º SSH   |
| SSH key æœªè‡ªåŠ¨åŠ è½½                   | macOS å¯åŠ å…¥ `ssh-agent` | è§ä¸‹æ–¹è¡¥å……è®¾ç½®                       |

---

## ğŸ§  è¡¥å……ï¼šmacOS è®¾ç½® SSH è‡ªåŠ¨åŠ è½½ï¼ˆæ¨èï¼‰

1. ç¼–è¾‘ SSH é…ç½®æ–‡ä»¶ï¼š

```bash
nano ~/.ssh/config
```

2. æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```bash
Host github.com
  HostName github.com
  User git
  IdentityFile ~/.ssh/id_ed25519
  AddKeysToAgent yes
  UseKeychain yes
```

3. å¯ç”¨ agent å¹¶æ·»åŠ  keyï¼š

```bash
ssh-add --apple-use-keychain ~/.ssh/id_ed25519
```

---

## âœ… ç¤ºä¾‹ï¼šä¸€æ¡é¾™å‘½ä»¤ï¼ˆé€‚åˆç†Ÿç»ƒç”¨æˆ·ï¼‰

```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
eval "$(ssh-agent -s)"
ssh-add --apple-use-keychain ~/.ssh/id_ed25519
pbcopy < ~/.ssh/id_ed25519.pub
```

ç„¶åç›´æ¥ç²˜è´´åˆ° GitHub ä¸Šå³å¯ã€‚

---

å¦‚æœä½ éœ€è¦æˆ‘å¸®ä½ æ£€æŸ¥æŸä¸€å°ç”µè„‘ä¸Šçš„ SSH é…ç½®ã€æˆ–ä½ å·²ç»ç”Ÿæˆäº† key ä½†è¿æ¥å¤±è´¥ï¼Œæˆ‘å¯ä»¥ä¸€æ­¥æ­¥å¸®ä½ è°ƒè¯•ã€‚æ˜¯å¦éœ€è¦æˆ‘ç”Ÿæˆä¸€ä»½ä½ ä¸“ç”¨çš„ SSH é…ç½®è„šæœ¬ï¼Ÿ
