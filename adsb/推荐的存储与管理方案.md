
## âœ… æ¨èçš„å­˜å‚¨ä¸ç®¡ç†æ–¹æ¡ˆï¼ˆé€‚ç”¨äºç§‘ç ” + å·¥ç¨‹ï¼‰

æˆ‘ä»¬ä»å››ä¸ªæ–¹é¢è€ƒè™‘ï¼š

| æ¨¡å—      | æ¨èæ–¹æ¡ˆ                      | ç†ç”±                 |
| ------- | ------------------------- | ------------------ |
| æ•°æ®æ ¼å¼    | **Parquetï¼ˆå»ºè®®ï¼‰** or HDF5   | åˆ—å¼å­˜å‚¨ï¼Œå‹ç¼©é«˜æ•ˆï¼Œé€‚ç”¨äºå¤§æ•°æ®åˆ†æ |
| æ–‡ä»¶ç»„ç»‡ç»“æ„  | **æŒ‰æœºåœº/å¹´ä»½/æœˆåˆ’åˆ†å­ç›®å½•**         | æ¸…æ™°æœ‰åºï¼Œæ”¯æŒå¢é‡åˆ†æ        |
| å…ƒæ•°æ®ç®¡ç†   | **CSV/JSON + DVC è·Ÿè¸ªæ•°æ®ç‰ˆæœ¬** | è®°å½•ç”Ÿæˆæ¡ä»¶ã€è„šæœ¬ã€å‚æ•°       |
| æ•°æ®é›†ç‰ˆæœ¬æ§åˆ¶ | **DVC + Git é…åˆç®¡ç†**        | ä¿è¯æ•°æ®å¯å¤ç°ã€ç‰ˆæœ¬æ¸…æ™°       |

---

## ğŸ“¦ 1. å­˜å‚¨æ ¼å¼æ¨èï¼šParquet

```python
# å‡è®¾ taxi_in_events æ˜¯ä½ çš„ pandas DataFrame
taxi_in_events.to_parquet("data/processed/EDDF/2024/11/taxi_in_events.parquet", index=False)
```

ä¼˜ç‚¹ï¼š

* åˆ—å¼å­˜å‚¨ï¼Œè¯»å–éƒ¨åˆ†åˆ—éå¸¸å¿«ï¼›
* æ”¯æŒå‹ç¼©ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ï¼›
* ä¸ Pandasã€Sparkã€DuckDB ç­‰å…¼å®¹æ€§å¥½ï¼›
* æ–¹ä¾¿åç»­å†™å…¥æ•°æ®åº“æˆ–ç”¨äºè®­ç»ƒæ¨¡å‹ã€‚

---

## ğŸ“ 2. æ¨èçš„ç›®å½•ç»“æ„è®¾è®¡

ä»¥ **æœºåœº + å¹´ä»½ + æœˆä»½** ä¸ºå•ä½ç®¡ç†ï¼š

```
data/
â”œâ”€â”€ processed/
â”‚   â”œâ”€â”€ EDDF/
â”‚   â”‚   â”œâ”€â”€ 2023/
â”‚   â”‚   â”‚   â”œâ”€â”€ 11/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ taxi_in_events.parquet
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metadata.json
â”‚   â”‚   â”œâ”€â”€ 2024/
â”‚   â”‚   â”‚   â”œâ”€â”€ 03/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ taxi_in_events.parquet
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ taxi_out_events.parquet
```

**æ¯ä¸ªæ–‡ä»¶å¤¹å†…åº”åŒ…å«ï¼š**

* `taxi_in_events.parquet`ï¼šä¸»æ•°æ®
* `metadata.json`ï¼šè®°å½•è¯¥æ•°æ®å¦‚ä½•ç”Ÿæˆçš„ï¼ˆè„šæœ¬åã€æ—¶é—´ã€ä½¿ç”¨å‚æ•°ã€è¿‡æ»¤æ¡ä»¶ã€å­—æ®µè§£é‡Šç­‰ï¼‰

---

## ğŸ§¾ 3. å…ƒæ•°æ®å»ºè®®ï¼ˆmetadata.jsonï¼‰

ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š

```json
{
  "airport": "EDDF",
  "data_type": "taxi_in_events",
  "source": "ADS-B via OpenSky API",
  "generated_on": "2024-05-18",
  "filter_conditions": {
    "altitude": "< 50 ft",
    "speed": "< 20 knots",
    "runway": ["07L", "25R"]
  },
  "features": [
    "icao24", "landing_runway", "stand_area", "duration_min", "concurrent_aircraft"
  ],
  "script_used": "generate_taxi_in_events.py",
  "notes": "Only cargo and passenger flights included"
}
```

---

## ğŸ› ï¸ 4. ç”¨ DVC è·Ÿè¸ªè¿™äº›æ•°æ®å’Œå…ƒæ•°æ®

```bash
dvc add data/processed/EDDF/2024/11/taxi_in_events.parquet
git add data/processed/EDDF/2024/11/taxi_in_events.parquet.dvc
git add data/processed/EDDF/2024/11/metadata.json
git commit -m "Add November 2024 EDDF taxi-in events"
dvc push
```

ä¼˜ç‚¹ï¼š

* å¤šç‰ˆæœ¬æ•°æ®å¯¹æ¯”æ¸…æ™°ï¼›
* æ”¯æŒå›æ»šä¸å¤ç°ï¼›
* å¯ç»‘å®š MLflow æˆ–å…¶ä»– pipeline å·¥å…·ã€‚

---

## ğŸ“Š 5. ä¸ºåç»­ç»Ÿè®¡åˆ†æå‡†å¤‡ï¼ˆåˆ†æå‹å¥½æ ¼å¼ï¼‰

ç¡®ä¿ä½ çš„ DataFrame å­—æ®µå‘½åæ¸…æ™°è§„èŒƒï¼Œä¾‹å¦‚ï¼š

| å­—æ®µå                 | å«ä¹‰                |
| ------------------- | ----------------- |
| `flight_id`         | èˆªç­å”¯ä¸€æ ‡è¯†            |
| `icao24`            | èˆªç©ºå™¨å”¯ä¸€ç¼–ç            |
| `landing_runway`    | ç€é™†è·‘é“              |
| `final_stand_area`  | æœ€ç»ˆåœæœºåŒºåŸŸï¼ˆå¦‚A, B, Cï¼‰  |
| `start_time`        | Taxi-in å¼€å§‹æ—¶é—´ï¼ˆUTCï¼‰ |
| `end_time`          | Taxi-in ç»“æŸæ—¶é—´ï¼ˆUTCï¼‰ |
| `duration_min`      | æ»‘è¡Œè€—æ—¶ï¼ˆåˆ†é’Ÿï¼‰          |
| `concurrent_ac_num` | æ»‘è¡ŒæœŸé—´åœ°é¢é£æœºæ•°é‡        |
| `weather_vis`       | èƒ½è§åº¦ï¼ˆç±³ï¼‰            |
| `precip_mm`         | é™æ°´é‡ï¼ˆæ¯«ç±³ï¼‰           |

---

## ğŸ“Œ æ€»ç»“å»ºè®®

| æ“ä½œé¡¹      | æ¨è                         |
| -------- | -------------------------- |
| æ•°æ®æ ¼å¼     | Parquet (é«˜æ•ˆåˆ†æ+å…¼å®¹æ€§å¥½)        |
| å­˜å‚¨ç»“æ„     | æŒ‰æœºåœº/å¹´/æœˆç»„ç»‡ç›®å½•                |
| å…ƒæ•°æ®æ–‡æ¡£    | ä½¿ç”¨ JSON æ ‡æ˜ç”Ÿæˆè¿‡ç¨‹å’Œå­—æ®µè¯´æ˜        |
| æ•°æ®ç‰ˆæœ¬æ§åˆ¶å·¥å…· | ä½¿ç”¨ DVC ç®¡ç†ï¼Œé…åˆ Git           |
| åç»­åˆ†æ     | ä½¿ç”¨ Pandasã€DuckDB æˆ– PySpark |
| æ•°æ®é›†æ„å»ºä¸è¿½è¸ª | æ„å»º dataset\_v1ã€v2ã€v3 å­é›†    |

---

å¦‚ä½ å¸Œæœ›ï¼Œæˆ‘å¯ä»¥ä¸ºä½ ï¼š

* âœ¨ç”Ÿæˆä¸€ä¸ªç¤ºä¾‹ç›®å½•ç»“æ„ï¼›
* ğŸ“œå†™ä¸€ä¸ªç”Ÿæˆ metadata.json çš„è‡ªåŠ¨åŒ–è„šæœ¬ï¼›
* âš™ï¸å¸®ä½ ç”¨ DVC ç®¡ç†è¿™äº›æ•°æ®é›†ã€‚

ä½ å¸Œæœ›æˆ‘ç°åœ¨å¸®ä½ ç”Ÿæˆå“ªä¸€éƒ¨åˆ†ï¼Ÿ
